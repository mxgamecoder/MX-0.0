<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MXAPI Marketplace</title>
  <link rel="icon" type="image/png" href="mxapi.png">
<link rel="stylesheet" href="css/marketplace.css">
</head>
<body>
  <h1>🛒 MXAPI Marketplace</h1>

  <div style="margin-bottom:16px;">
    <input id="search" type="text" oninput="searchApis()" placeholder="🔍 Search for an API...">
  </div>

  <div class="filter-bar">
    <div class="letter-buttons">
      <button onclick="filterGroup('ALL')" class="btn-gray">All</button>
      <button onclick="filterGroup('A-E')" class="btn-gray">A-E</button>
      <button onclick="filterGroup('F-I')" class="btn-gray">F-I</button>
      <button onclick="filterGroup('J-O')" class="btn-gray">J-O</button>
      <button onclick="filterGroup('P-T')" class="btn-gray">P-T</button>
      <button onclick="filterGroup('U-Z')" class="btn-gray">U-Z</button>
    </div>

    <div class="coin-tag-filters">
      <select id="coin-filter" onchange="filterByCoins()">
        <option value="all">All Coins</option>
        <option value="10">≤ 10 Coins</option>
        <option value="25">≤ 25 Coins</option>
        <option value="50">≤ 50 Coins</option>
        <option value="100">≤ 100 Coins</option>
        <option value="250">≤ 250 Coins</option>
        <option value="500">≤ 500 Coins</option>
        <option value="1000">≤ 1000 Coins</option>
      </select>
      <select id="tag-filter" onchange="filterByTag()">
        <option value="all">All Tags</option>
        <option value="hot">🔥 Hot</option>
        <option value="new">🆕 New</option>
        <option value="popular">⭐ Popular</option>
      </select>
    </div>
  </div>

  <div id="not-found" style="color:#f87171; margin-bottom:12px; display:none; text-align:center;">
    Not available yet 😞. Contact admin if needed.
  </div>

  <div id="api-container"></div>

  <!-- Popup -->
  <div id="popup" class="popup">
    <div class="popup-content">
      <p id="popup-message" style="margin-bottom:16px;"></p>
      <button onclick="closePopup()" class="btn-purple">Okay</button>
    </div>
  </div>

  <!-- Full API Modal -->
  <div id="apiFullPopup">
    <header>
      <span style="font-weight:600;">API Details</span>
      <div style="display:flex; align-items:center; gap:0.5rem;">
        <span id="api-tag" style="color:#facc15; font-weight:600; font-size:0.9rem;"></span>
        <button onclick="closeApiFullPopup()" class="btn-red">✖</button>
      </div>
    </header>
    <div id="apiFullContent"></div>
  </div>

  <!-- Comment Modal -->
  <div id="commentModal">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
      <h2>💬 Comments</h2>
      <button onclick="closeCommentModal()" class="btn-red">✖</button>
    </div>
    <div id="comment-container"></div>
    <div id="commentList" style="flex:1; overflow-y:auto; margin-bottom:10px;"></div>
    <div id="replyInfo" style="display:none; margin-bottom:6px; font-size:0.85rem; color:#facc15;">
      Replying to <span id="replyToName"></span>
      <button onclick="cancelReply()" class="btn-red" style="padding:2px 6px; font-size:0.75rem;">✖ Cancel</button>
    </div>
    <textarea id="commentBox" rows="3" placeholder="Type your comment..."></textarea>
    <button onclick="submitComment()" class="btn-purple" style="margin-top:10px;">📨 Send Comment</button>
  </div>

  <script src="js/marketplace.js"></script>
</body>
</html>